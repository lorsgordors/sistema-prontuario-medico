<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle" data-system-name-text>Lizard Prontu√°rio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Tela de Login -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
            <div class="login-header">
                <h1 id="loginSystemName" data-system-name="true"><img src="logo.png" alt="Logo" class="logo-icon"> Lizard Prontu√°rio</h1>
                <p>Acesso Local Seguro</p>
            </div>
            
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="login">Usu√°rio:</label>
                    <input type="text" id="login" name="login" required>
                </div>
                
                <div class="form-group">
                    <label for="senha">Senha:</label>
                    <input type="password" id="senha" name="senha" required>
                </div>
                
                <button type="submit" class="btn btn-primary">Entrar</button>
                
                <div id="loginError" class="error-message"></div>
            </form>
            
            <!-- <div class="login-info">
                <p><small>Usu√°rio padr√£o: <strong>admin</strong> | Senha: <strong>admin123</strong></small></p>
            </div> -->
        </div>
    </div>

    <!-- Interface Principal -->
    <div id="mainScreen" class="screen hidden">
        <!-- Header -->
        <header class="main-header">
            <div class="header-content">
                <h1 id="mainSystemName" data-system-name="true"><img src="logo.png" alt="Logo" class="logo-icon"> Lizard Prontu√°rio</h1>
                <div class="user-info">
                    <span id="userWelcome">Bem-vindo, ...</span>
                    <button id="logoutBtn" class="btn btn-secondary">Sair</button>
                </div>
            </div>
        </header>

        <!-- Navega√ß√£o -->
        <nav class="main-nav">
            <button class="nav-btn active" data-tab="meuPerfil">üë§ Meu Perfil</button>
            <button class="nav-btn" data-tab="pacientes">üë• Pacientes</button>
            <button class="nav-btn" data-tab="cadastroPaciente">‚ûï Novo Paciente</button>
            <button class="nav-btn" data-tab="agenda">üìÖ Agenda</button>
            <button class="nav-btn" data-tab="arrecadacao">üí∞ Arrecada√ß√£o</button>
            <button class="nav-btn" data-tab="personalizacao">üé® Personalizar</button>
            <button class="nav-btn" data-tab="usuarios" id="usuariosTabBtn" style="display:none">üë• Usu√°rios</button>
            <button class="nav-btn" data-tab="logs" id="logsTabBtn" style="display:none">üìã Logs</button>
        </nav>

        <!-- Conte√∫do Principal -->
        <main class="main-content">
            <!-- Aba Logs (apenas admin) -->
            <section id="logs" class="tab-content">
                <div class="content-header">
                    <h2>üìã Gerenciar Logs do Sistema</h2>
                    <div class="log-controls">
                        <button id="visualizarLogsBtn" class="btn btn-secondary">üëÅÔ∏è Visualizar Logs</button>
                        <button id="limparLogsBtn" class="btn btn-warning">üóëÔ∏è Limpar Logs</button>
                    </div>
                </div>
                <div class="log-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="totalLogs">-</div>
                        <div class="stat-label">Total de Logs</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="logsHoje">-</div>
                        <div class="stat-label">Logs de Hoje</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="logsAntigos">-</div>
                        <div class="stat-label">Logs > 7 dias</div>
                    </div>
                </div>
                <div id="logsDisplay" class="logs-display hidden">
                    <div class="logs-filter">
                        <input type="text" id="filtroLogs" placeholder="Filtrar logs..." class="form-control">
                        <select id="filtroTipo" class="form-control">
                            <option value="">Todos os tipos</option>
                            <option value="login">Login</option>
                            <option value="logout">Logout</option>
                            <option value="login_falhou">Login Falhado</option>
                            <option value="cadastro_paciente">Cadastro Paciente</option>
                            <option value="edicao_paciente">Edi√ß√£o Paciente</option>
                            <option value="exclusao_paciente">Exclus√£o Paciente</option>
                            <option value="novo_atendimento">Novo Atendimento</option>
                            <option value="excluir_atendimento">Excluir Atendimento</option>
                            <option value="registro_usuario">Registro Usu√°rio</option>
                            <option value="edicao_usuario">Edi√ß√£o Usu√°rio</option>
                            <option value="alteracao_senha">Altera√ß√£o Senha</option>
                            <option value="limpeza_logs">Limpeza Logs</option>
                        </select>
                    </div>
                    <div id="logsList" class="logs-list"></div>
                </div>
                <!-- Modal de limpeza -->
                <div id="limparLogsModal" class="modal hidden">
                    <div class="modal-content" style="max-width:400px;">
                        <h3>üóëÔ∏è Limpar Logs do Sistema</h3>
                        <p>Selecione o per√≠odo para limpeza:</p>
                        <div class="periodo-options">
                            <label>
                                <input type="radio" name="periodo" value="1" checked>
                                √öltimas 24 horas
                            </label>
                            <label>
                                <input type="radio" name="periodo" value="7">
                                √öltimos 7 dias
                            </label>
                            <label>
                                <input type="radio" name="periodo" value="30">
                                √öltimos 30 dias
                            </label>
                            <label>
                                <input type="radio" name="periodo" value="all">
                                Todos os logs
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button id="confirmarLimpezaBtn" class="btn btn-danger">Confirmar Limpeza</button>
                            <button id="cancelarLimpezaBtn" class="btn btn-secondary">Cancelar</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Aba Usu√°rios (apenas admin) -->
            <section id="usuarios" class="tab-content">
                <div class="content-header">
                    <h2>üë• Usu√°rios Registrados</h2>
                    <div class="header-actions">
                        <button id="novoUsuarioBtn" class="btn btn-primary">‚ûï Novo Usu√°rio</button>
                    </div>
                </div>
                <div id="usuariosList" class="usuarios-list">
                    <!-- Lista de usu√°rios ser√° carregada aqui -->
                </div>
                <!-- Modal de edi√ß√£o de usu√°rio -->
                <div id="editarUsuarioModal" class="modal hidden">
                    <div class="modal-content editar-usuario-modal">
                        <div class="modal-header">
                            <h3>‚úèÔ∏è Editar Usu√°rio</h3>
                            <button type="button" class="modal-close" id="cancelarEditarUsuario">&times;</button>
                        </div>
                        
                        <form id="editarUsuarioForm" class="editar-usuario-form">
                            <input type="hidden" id="editarUsuarioId" name="id">
                            
                            <!-- Informa√ß√µes B√°sicas -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span class="section-icon">üë§</span>
                                    <h4>Informa√ß√µes B√°sicas</h4>
                                </div>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="editarUsuarioNome">
                                            <span class="label-icon">üìù</span>
                                            Nome Completo
                                        </label>
                                        <input type="text" id="editarUsuarioNome" name="nomeCompleto" required 
                                               placeholder="Digite o nome completo">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="editarUsuarioLogin">
                                            <span class="label-icon">üîë</span>
                                            Login
                                        </label>
                                        <input type="text" id="editarUsuarioLogin" name="login" required 
                                               placeholder="Digite o nome de usu√°rio">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editarUsuarioTipo">
                                        <span class="label-icon">üë•</span>
                                        Tipo de Usu√°rio
                                    </label>
                                    <select id="editarUsuarioTipo" name="tipo" required class="select-styled">
                                        <option value="Administrador">üîß Administrador</option>
                                        <option value="Profissional">üë®‚Äç‚öïÔ∏è Profissional da Sa√∫de</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Informa√ß√µes Profissionais -->
                            <div class="form-section" id="editarRegistroProfissionalSection">
                                <div class="section-title">
                                    <span class="section-icon">üè•</span>
                                    <h4>Registro Profissional</h4>
                                </div>
                                
                                <div class="form-group" id="editarTipoRegistroGroup">
                                    <label for="editarUsuarioTipoRegistro">
                                        <span class="label-icon">üìã</span>
                                        Tipo de Registro
                                    </label>
                                    <select id="editarUsuarioTipoRegistro" name="tipoRegistro" class="select-styled">
                                        <option value="">Selecione o tipo de registro...</option>
                                    </select>
                                </div>
                                
                                <div class="form-grid registro-grid">
                                    <div class="form-group" id="editarNumeroRegistroGroup">
                                        <label for="editarUsuarioNumeroRegistro">
                                            <span class="label-icon">üî¢</span>
                                            N√∫mero do Registro
                                        </label>
                                        <input type="text" id="editarUsuarioNumeroRegistro" name="numeroRegistro"
                                               placeholder="Ex: 123456">
                                    </div>
                                    
                                    <div class="form-group" id="editarEstadoRegistroGroup">
                                        <label for="editarUsuarioEstado">
                                            <span class="label-icon">üìç</span>
                                            Estado
                                        </label>
                                        <select id="editarUsuarioEstado" name="estadoRegistro" class="select-styled">
                                            <option value="">Selecione...</option>
                                            <option value="AC">üå≥ Acre</option>
                                            <option value="AL">üèñÔ∏è Alagoas</option>
                                            <option value="AP">üåø Amap√°</option>
                                            <option value="AM">üå≤ Amazonas</option>
                                            <option value="BA">üèùÔ∏è Bahia</option>
                                            <option value="CE">‚õµ Cear√°</option>
                                            <option value="DF">üèõÔ∏è Distrito Federal</option>
                                            <option value="ES">‚õ∞Ô∏è Esp√≠rito Santo</option>
                                            <option value="GO">üåæ Goi√°s</option>
                                            <option value="MA">üå∫ Maranh√£o</option>
                                            <option value="MT">üåΩ Mato Grosso</option>
                                            <option value="MS">üêÜ Mato Grosso do Sul</option>
                                            <option value="MG">‚õ∞Ô∏è Minas Gerais</option>
                                            <option value="PA">üåø Par√°</option>
                                            <option value="PB">üèñÔ∏è Para√≠ba</option>
                                            <option value="PR">üå≤ Paran√°</option>
                                            <option value="PE">ü¶Ä Pernambuco</option>
                                            <option value="PI">üåµ Piau√≠</option>
                                            <option value="RJ">üèñÔ∏è Rio de Janeiro</option>
                                            <option value="RN">üèñÔ∏è Rio Grande do Norte</option>
                                            <option value="RS">üç∑ Rio Grande do Sul</option>
                                            <option value="RO">üå≥ Rond√¥nia</option>
                                            <option value="RR">üåø Roraima</option>
                                            <option value="SC">üèùÔ∏è Santa Catarina</option>
                                            <option value="SP">üè¢ S√£o Paulo</option>
                                            <option value="SE">ü¶ê Sergipe</option>
                                            <option value="TO">üåÖ Tocantins</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Seguran√ßa -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span class="section-icon">üîê</span>
                                    <h4>Seguran√ßa</h4>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editarUsuarioNovaSenha">
                                        <span class="label-icon">üîë</span>
                                        Nova Senha
                                        <span class="label-optional">(opcional)</span>
                                    </label>
                                    <input type="password" id="editarUsuarioNovaSenha" name="novaSenha" 
                                           autocomplete="new-password" placeholder="Deixe vazio para manter a atual">
                                    <small class="form-help">üí° Preencha apenas se deseja alterar a senha</small>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editarUsuarioSenhaAdmin">
                                        <span class="label-icon">üõ°Ô∏è</span>
                                        Senha do Administrador
                                        <span class="required-mark">*</span>
                                    </label>
                                    <input type="password" id="editarUsuarioSenhaAdmin" name="senhaAdmin" required
                                           placeholder="Digite sua senha de administrador">
                                    <small class="form-help">üîí Necess√°ria para confirmar altera√ß√µes</small>
                                </div>
                            </div>
                            
                            <div class="modal-actions">
                                <button type="submit" class="btn btn-primary btn-save">
                                    <span class="btn-icon">üíæ</span>
                                    Salvar Altera√ß√µes
                                </button>
                                <button type="button" class="btn btn-secondary btn-cancel" onclick="document.getElementById('editarUsuarioModal').classList.add('hidden')">
                                    <span class="btn-icon">‚ùå</span>
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
            <!-- Aba Meu Perfil -->
            <section id="meuPerfil" class="tab-content active">
                <div class="content-header">
                    <h2>üë§ Meu Perfil</h2>
                </div>
                
                <!-- Se√ß√£o de Estat√≠sticas -->
                <div class="profile-section">
                    <div class="stats-cards" id="statsCards">
                        <!-- Estat√≠sticas ser√£o carregadas aqui -->
                    </div>
                    
                    <div class="profile-card">
                        <h3>Informa√ß√µes Pessoais</h3>
                        <div class="profile-info">
                            <div class="info-item">
                                <label>Nome de Login:</label>
                                <span id="profileLogin">-</span>
                            </div>
                            <div class="info-item">
                                <label>Nome Completo:</label>
                                <span id="profileNome">-</span>
                            </div>
                            <div class="info-item">
                                <label>Tipo de Registro:</label>
                                <span id="profileTipoRegistro">-</span>
                            </div>
                            <div class="info-item">
                                <label>N√∫mero do Registro:</label>
                                <span id="profileNumeroRegistro">-</span>
                            </div>
                            <div class="info-item" id="profileEstadoItem" style="display: none;">
                                <label>Estado:</label>
                                <span id="profileEstado">-</span>
                            </div>
                            <div class="info-item">
                                <label>Tipo de Usu√°rio:</label>
                                <span id="profileTipo">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-card">
                        <h3>üîí Alterar Senha</h3>
                        <form id="alterarSenhaForm" class="change-password-form">
                            <div class="form-group">
                                <label for="senhaAtual">Senha Atual *</label>
                                <input type="password" id="senhaAtual" name="senhaAtual" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="novaSenha">Nova Senha *</label>
                                <input type="password" id="novaSenha" name="novaSenha" required>
                                <div id="forcaSenha" class="password-strength"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="confirmarSenha">Confirmar Nova Senha *</label>
                                <input type="password" id="confirmarSenha" name="confirmarSenha" required>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">üîí Alterar Senha</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Aba Arrecada√ß√£o -->
            <section id="arrecadacao" class="tab-content">
                <div class="content-header">
                    <h2>üí∞ Arrecada√ß√£o</h2>
                    <div class="header-actions">
                        <span id="infoArrecadacao" class="info-badge">Carregando...</span>
                        <button id="refreshArrecadacao" class="btn btn-secondary">üîÑ Atualizar</button>
                    </div>
                </div>
                
                <!-- Resumo Financeiro -->
                <div class="financial-summary">
                    <div class="summary-cards">
                        <div class="summary-card total">
                            <div class="card-icon">üí∞</div>
                            <div class="card-info">
                                <div class="card-label">Total Arrecadado</div>
                                <div class="card-value" id="valorTotal">R$ 0,00</div>
                            </div>
                        </div>
                        
                        <div class="summary-card month">
                            <div class="card-icon">üìÖ</div>
                            <div class="card-info">
                                <div class="card-label">Este M√™s</div>
                                <div class="card-value" id="valorMes">R$ 0,00</div>
                            </div>
                        </div>
                        
                        <div class="summary-card week">
                            <div class="card-icon">üìä</div>
                            <div class="card-info">
                                <div class="card-label">Esta Semana</div>
                                <div class="card-value" id="valorSemana">R$ 0,00</div>
                            </div>
                        </div>
                        
                        <div class="summary-card average">
                            <div class="card-icon">‚≠ê</div>
                            <div class="card-info">
                                <div class="card-label">Valor M√©dio</div>
                                <div class="card-value" id="valorMedio">R$ 0,00</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Filtros de Per√≠odo -->
                <div class="period-filters">
                    <div class="filter-group">
                        <label>Per√≠odo:</label>
                        <select id="periodFilter">
                            <option value="7">√öltimos 7 dias</option>
                            <option value="30" selected>√öltimos 30 dias</option>
                            <option value="90">√öltimos 3 meses</option>
                            <option value="365">√öltimo ano</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                    
                    <div class="custom-dates" id="customDates" style="display: none;">
                        <input type="date" id="dataInicio" placeholder="Data in√≠cio">
                        <input type="date" id="dataFim" placeholder="Data fim">
                        <button class="btn btn-primary" onclick="app.filtrarPeriodoCustom()">Filtrar</button>
                    </div>
                </div>

                <!-- Gr√°fico de Evolu√ß√£o -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>üìà Evolu√ß√£o da Arrecada√ß√£o</h3>
                    </div>
                    <div class="chart-content">
                        <canvas id="arrecadacaoChart" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- Detalhes por Per√≠odo -->
                <div class="details-container">
                    <div class="details-header">
                        <h3>üìã Detalhes dos Atendimentos</h3>
                    </div>
                    <div id="detalhesArrecadacao" class="details-list">
                        <!-- Detalhes ser√£o carregados aqui -->
                    </div>
                </div>
            </section>

            <!-- Aba Personaliza√ß√£o -->
            <section id="personalizacao" class="tab-content">
                <div class="content-header">
                    <h2>üé® Personalizar Interface</h2>
                    <p class="subtitle">Customize a apar√™ncia do sistema do seu jeito</p>
                </div>
                
                <div class="personalization-container">
                    <!-- Preview da Personaliza√ß√£o -->
                    <div class="preview-section">
                        <h3>üëÅÔ∏è Pr√©-visualiza√ß√£o</h3>
                        <div class="preview-card" id="previewCard">
                            <div class="preview-header" id="previewHeader">
                                <img id="previewLogo" src="logo.png" alt="Logo" class="preview-logo">
                                <h4 id="previewNome">Lizard Prontu√°rio</h4>
                            </div>
                            <div class="preview-content">
                                <div class="preview-nav">
                                    <button class="preview-nav-btn active">Meu Perfil</button>
                                    <button class="preview-nav-btn">Pacientes</button>
                                </div>
                                <div class="preview-body">
                                    <p>Esta √© uma pr√©via de como ficar√° seu sistema personalizado!</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Configura√ß√µes de Personaliza√ß√£o -->
                    <div class="settings-section">
                        <form id="personalizacaoForm" class="personalization-form">
                            <!-- Nome do Sistema -->
                            <div class="setting-group">
                                <label for="nomeSystema">
                                    <span class="setting-icon">üìù</span>
                                    Nome do Sistema
                                </label>
                                <input type="text" id="nomeSystema" name="nomeSystema" 
                                       placeholder="Ex: Cl√≠nica Dr. Jo√£o" maxlength="30">
                                <small>M√°ximo 30 caracteres</small>
                            </div>

                            <!-- Cores do Tema -->
                            <div class="setting-group">
                                <label>
                                    <span class="setting-icon">üé®</span>
                                    Cores do Tema
                                </label>
                                <div class="color-options">
                                    <div class="color-item">
                                        <label for="corPrimaria">Cor Prim√°ria:</label>
                                        <input type="color" id="corPrimaria" name="corPrimaria" value="#8b5cf6">
                                        <span class="color-preview" id="corPrimariaPreview"></span>
                                    </div>
                                    <div class="color-item">
                                        <label for="corSecundaria">Cor Secund√°ria:</label>
                                        <input type="color" id="corSecundaria" name="corSecundaria" value="#667eea">
                                        <span class="color-preview" id="corSecundariaPreview"></span>
                                    </div>
                                    <div class="color-item">
                                        <label for="corTerciaria">Cor Terci√°ria:</label>
                                        <input type="color" id="corTerciaria" name="corTerciaria" value="#06b6d4">
                                        <span class="color-preview" id="corTerciariaPreview"></span>
                                    </div>
                                    <div class="color-item">
                                        <label for="corTexto">Cor do Texto:</label>
                                        <input type="color" id="corTexto" name="corTexto" value="#333333">
                                        <span class="color-preview" id="corTextoPreview"></span>
                                    </div>
                                </div>

                                <!-- Modo Escuro -->
                                <div class="form-group">
                                    <label class="toggle-label">
                                        <input type="checkbox" id="modoEscuro" name="modoEscuro">
                                        <span class="toggle-switch"></span>
                                        <span class="toggle-text">Modo Noturno / Escuro</span>
                                    </label>
                                    <p class="form-help-text">Ative para usar fundo escuro e interface noturna</p>
                                </div>
                            </div>

                            <!-- Upload de Logo -->
                            <div class="setting-group">
                                <label for="logoUpload">
                                    <span class="setting-icon">üñºÔ∏è</span>
                                    Logo/√çcone Personalizado
                                </label>
                                <div class="upload-area">
                                    <input type="file" id="logoUpload" name="logoUpload" 
                                           accept="image/png,image/jpeg,image/jpg,image/svg+xml">
                                    <div class="upload-text">
                                        <span>üìÅ Clique para selecionar uma imagem</span>
                                        <small>PNG, JPG ou SVG - Max 1MB</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Temas Predefinidos -->
                            <div class="setting-group">
                                <label>
                                    <span class="setting-icon">üé≠</span>
                                    Temas Predefinidos
                                </label>
                                <div class="theme-options">
                                    <div class="theme-card active" data-theme="padrao">
                                        <div class="theme-colors">
                                            <span style="background: #8b5cf6"></span>
                                            <span style="background: #667eea"></span>
                                        </div>
                                        <span>Padr√£o</span>
                                    </div>
                                    <div class="theme-card" data-theme="saude">
                                        <div class="theme-colors">
                                            <span style="background: #059669"></span>
                                            <span style="background: #06b6d4"></span>
                                        </div>
                                        <span>Sa√∫de</span>
                                    </div>
                                    <div class="theme-card" data-theme="profissional">
                                        <div class="theme-colors">
                                            <span style="background: #1e40af"></span>
                                            <span style="background: #3730a3"></span>
                                        </div>
                                        <span>Profissional</span>
                                    </div>
                                    <div class="theme-card" data-theme="moderno">
                                        <div class="theme-colors">
                                            <span style="background: #ec4899"></span>
                                            <span style="background: #f59e0b"></span>
                                        </div>
                                        <span>Moderno</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Bot√µes de A√ß√£o -->
                            <div class="form-actions">
                                <button type="button" id="resetPersonalizacao" class="btn btn-secondary">
                                    üîÑ Restaurar Padr√£o
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    üíæ Salvar Personaliza√ß√£o
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Aba Agenda -->
            <section id="agenda" class="tab-content">
                <div class="content-header">
                    <h2>üìÖ Agenda de Atendimentos</h2>
                    <div class="agenda-controls">
                        <button id="voltarMesBtn" class="btn btn-secondary">‚óÄ Anterior</button>
                        <span id="mesAtual" class="mes-display"></span>
                        <button id="proximoMesBtn" class="btn btn-secondary">Pr√≥ximo ‚ñ∂</button>
                    </div>
                    <div class="agenda-dica">
                        üí° <strong>Dica:</strong> Clique simples = selecionar dia | Duplo clique = novo agendamento
                    </div>
                </div>

                <div class="calendario-container">
                    <div class="calendario-header">
                        <div class="dia-semana">Dom</div>
                        <div class="dia-semana">Seg</div>
                        <div class="dia-semana">Ter</div>
                        <div class="dia-semana">Qua</div>
                        <div class="dia-semana">Qui</div>
                        <div class="dia-semana">Sex</div>
                        <div class="dia-semana">S√°b</div>
                    </div>
                    <div id="calendarioGrid" class="calendario-grid">
                        <!-- Dias do calend√°rio ser√£o gerados aqui -->
                    </div>
                </div>

                <div class="agendamentos-do-dia">
                    <h3 id="agendamentosDiaTitle">üìã Agendamentos do Dia</h3>
                    <div id="agendamentosList" class="agendamentos-list">
                        <p class="empty-message">Selecione um dia para ver os agendamentos</p>
                    </div>
                </div>
            </section>

            <!-- Aba Pacientes -->
            <section id="pacientes" class="tab-content">
                <div class="content-header">
                    <h2 id="tituloListaPacientes">üë• Meus Pacientes</h2>
                    <div class="header-actions">
                        <span id="infoPacientes" class="info-badge">Carregando...</span>
                        <button id="refreshPacientes" class="btn btn-secondary">üîÑ Atualizar</button>
                    </div>
                </div>
                
                <div class="search-container">
                    <input type="text" id="searchPacientes" placeholder="Buscar paciente...">
                </div>
                
                <div id="pacientesList" class="pacientes-list">
                    <!-- Lista de pacientes ser√° carregada aqui -->
                </div>
            </section>

            <!-- Aba Cadastro de Paciente -->
            <section id="cadastroPaciente" class="tab-content">
                <div class="content-header">
                    <h2>‚ûï Cadastrar Novo Paciente</h2>
                </div>
                
                <form id="pacienteForm" class="form-container">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pacienteNome">Nome Completo *</label>
                            <input type="text" id="pacienteNome" name="nomeCompleto" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="pacienteCpf">CPF *</label>
                            <input type="text" id="pacienteCpf" name="cpf" required maxlength="14">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pacienteDataNasc">Data de Nascimento *</label>
                            <input type="date" id="pacienteDataNasc" name="dataNascimento" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="pacienteTelefone">Telefone</label>
                            <input type="tel" id="pacienteTelefone" name="telefone">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="pacienteEmail">E-mail</label>
                        <input type="email" id="pacienteEmail" name="email">
                    </div>
                    
                    <div class="form-group">
                        <label for="pacienteEndereco">Endere√ßo Completo</label>
                        <textarea id="pacienteEndereco" name="endereco" rows="3"></textarea>
                    </div>
                    
                    <!-- Informa√ß√µes M√©dicas -->
                    <div class="medical-info-section">
                        <h3 class="section-title">ü©∫ Informa√ß√µes M√©dicas</h3>
                        
                        <div class="form-group">
                            <label for="pacienteAlergias">üö® Alergias</label>
                            <textarea id="pacienteAlergias" name="alergias" rows="3" 
                                placeholder="Liste alergias conhecidas (medicamentos, alimentos, subst√¢ncias, etc.)"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="pacienteMedicamentos">üíä Medicamentos em Uso</label>
                            <textarea id="pacienteMedicamentos" name="medicamentos" rows="3" 
                                placeholder="Liste medicamentos de uso cont√≠nuo com doses e frequ√™ncia"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="pacienteComorbidades">üè• Comorbidades</label>
                            <textarea id="pacienteComorbidades" name="comorbidades" rows="3" 
                                placeholder="Liste doen√ßas cr√¥nicas, condi√ß√µes m√©dicas preexistentes"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">üíæ Cadastrar Paciente</button>
                        <button type="reset" class="btn btn-secondary">üîÑ Limpar</button>
                    </div>
                </form>
            </section>

            <!-- Aba Detalhes do Paciente -->
            <section id="detalhePaciente" class="tab-content">
                <div class="content-header">
                    <h2 id="detalhePacienteNome">üìã Paciente</h2>
                    <div class="detail-actions">
                        <button id="editarPacienteBtn" class="btn btn-primary">‚úèÔ∏è Editar Paciente</button>
                        <button id="excluirPacienteBtn" class="btn btn-danger">üóëÔ∏è Excluir Paciente</button>
                        <button id="voltarPacientes" class="btn btn-secondary">‚Üê Voltar</button>
                    </div>
                </div>
                
                <div class="paciente-details">
                <!-- Modal de edi√ß√£o de paciente -->
                <div id="editarPacienteModal" class="modal hidden">
                    <div class="modal-content" style="max-width:600px; max-height:90vh; overflow-y:auto;">
                        <h3>Editar Paciente</h3>
                        <form id="editarPacienteForm">
                            <input type="hidden" id="editarPacienteId" name="id">
                            <div class="form-group">
                                <label for="editarPacienteNome">Nome Completo:</label>
                                <input type="text" id="editarPacienteNome" name="nomeCompleto" required>
                            </div>
                            <div class="form-group">
                                <label for="editarPacienteCpf">CPF:</label>
                                <input type="text" id="editarPacienteCpf" name="cpf" required maxlength="14">
                            </div>
                            <div class="form-group">
                                <label for="editarPacienteDataNasc">Data de Nascimento:</label>
                                <input type="date" id="editarPacienteDataNasc" name="dataNascimento" required>
                            </div>
                            <div class="form-group">
                                <label for="editarPacienteTelefone">Telefone:</label>
                                <input type="tel" id="editarPacienteTelefone" name="telefone">
                            </div>
                            <div class="form-group">
                                <label for="editarPacienteEmail">E-mail:</label>
                                <input type="email" id="editarPacienteEmail" name="email">
                            </div>
                            <div class="form-group">
                                <label for="editarPacienteEndereco">Endere√ßo:</label>
                                <textarea id="editarPacienteEndereco" name="endereco" rows="3"></textarea>
                            </div>
                            
                            <!-- Informa√ß√µes M√©dicas -->
                            <div class="form-group">
                                <label for="editarPacienteAlergias">üö® Alergias:</label>
                                <textarea id="editarPacienteAlergias" name="alergias" rows="2" 
                                    placeholder="Alergias conhecidas"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="editarPacienteMedicamentos">üíä Medicamentos em Uso:</label>
                                <textarea id="editarPacienteMedicamentos" name="medicamentos" rows="2" 
                                    placeholder="Medicamentos de uso cont√≠nuo"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="editarPacienteComorbidades">üè• Comorbidades:</label>
                                <textarea id="editarPacienteComorbidades" name="comorbidades" rows="2" 
                                    placeholder="Doen√ßas cr√¥nicas ou condi√ß√µes m√©dicas"></textarea>
                            </div>
                            
                            <div class="modal-actions">
                                <button type="submit" class="btn btn-primary">Salvar</button>
                                <button type="button" class="btn btn-secondary" id="cancelarEditarPaciente">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>
                    <div class="paciente-info-card">
                        <h3>Informa√ß√µes do Paciente</h3>
                        <div id="pacienteInfoContent">
                            <!-- Informa√ß√µes do paciente -->
                        </div>
                    </div>
                    
                    <div class="atendimentos-section">
                        <div class="section-header">
                            <h3>üìÖ Atendimentos</h3>
                            <button id="novoAtendimentoBtn" class="btn btn-primary">‚ûï Novo Atendimento</button>
                        </div>
                        
                        <!-- Formul√°rio de Novo Atendimento -->
                        <form id="atendimentoForm" class="atendimento-form hidden">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="atendimentoTitulo">T√≠tulo *</label>
                                    <input type="text" id="atendimentoTitulo" name="titulo" required placeholder="Ex: Consulta, Retorno, Exame...">
                                </div>
                                <div class="form-group">
                                    <label for="atendimentoData">Data *</label>
                                    <input type="date" id="atendimentoData" name="data" required>
                                </div>
                                <div class="form-group">
                                    <label for="atendimentoHora">Hor√°rio *</label>
                                    <input type="time" id="atendimentoHora" name="horario" required>
                                </div>
                                <div class="form-group">
                                    <label for="atendimentoValor">Valor (R$)</label>
                                    <input type="number" id="atendimentoValor" name="valor" step="0.01" min="0">
                                </div>
                            </div>
                            
                            <!-- Se√ß√£o de Sinais Vitais -->
                            <div class="vitals-section">
                                <div class="vitals-header">
                                    <label class="vitals-toggle">
                                        <input type="checkbox" id="incluirSinaisVitais">
                                        <span class="vitals-title">ü©∫ Incluir Sinais Vitais</span>
                                    </label>
                                </div>
                                
                                <div id="sinaisVitaisFields" class="vitals-fields hidden">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="pressaoSistolica">Press√£o Arterial (mmHg)</label>
                                            <div class="pressure-inputs">
                                                <input type="number" id="pressaoSistolica" name="pressaoSistolica" 
                                                    placeholder="120" min="50" max="300" class="pressure-input">
                                                <span class="pressure-separator">/</span>
                                                <input type="number" id="pressaoDiastolica" name="pressaoDiastolica" 
                                                    placeholder="80" min="30" max="200" class="pressure-input">
                                            </div>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="frequenciaCardiaca">Frequ√™ncia Card√≠aca (bpm)</label>
                                            <input type="number" id="frequenciaCardiaca" name="frequenciaCardiaca" 
                                                placeholder="72" min="30" max="250">
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="frequenciaRespiratoria">Frequ√™ncia Respirat√≥ria (rpm)</label>
                                            <input type="number" id="frequenciaRespiratoria" name="frequenciaRespiratoria" 
                                                placeholder="16" min="8" max="60">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="temperatura">Temperatura (¬∞C)</label>
                                            <input type="number" id="temperatura" name="temperatura" step="0.1"
                                                placeholder="36.5" min="30" max="45">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="saturacao">Satura√ß√£o O‚ÇÇ (%)</label>
                                            <input type="number" id="saturacao" name="saturacao" 
                                                placeholder="98" min="70" max="100">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="atendimentoObs">Observa√ß√µes *</label>
                                <textarea id="atendimentoObs" name="observacoes" rows="4" required></textarea>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">üíæ Salvar Atendimento</button>
                                <button type="button" id="cancelarAtendimento" class="btn btn-secondary">Cancelar</button>
                            </div>
                        </form>
                        
                        <div id="atendimentosList" class="atendimentos-list">
                            <!-- Lista de atendimentos -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Registrar Usu√°rio -->
    <div id="registrarUsuarioModal" class="modal hidden">
        <div class="modal-content registrar-usuario-modal">
            <div class="modal-header">
                <h3>‚ú® Registrar Novo Usu√°rio</h3>
                <button type="button" class="modal-close" id="fecharRegistroModal">&times;</button>
            </div>
            
            <form id="registrarUsuarioForm" class="registrar-usuario-form">
                <!-- Autentica√ß√£o -->
                <div class="form-section">
                    <div class="section-title">
                        <span class="section-icon">üõ°Ô∏è</span>
                        <h4>Autentica√ß√£o de Administrador</h4>
                    </div>
                    
                    <div class="form-group">
                        <label for="senhaAdmin">
                            <span class="label-icon">üîê</span>
                            Senha do Administrador
                            <span class="required-mark">*</span>
                        </label>
                        <input type="password" id="senhaAdmin" name="senhaAdmin" required 
                               placeholder="Digite sua senha de administrador">
                        <small class="form-help">üîí Necess√°ria para criar novos usu√°rios</small>
                    </div>
                </div>
                
                <!-- Informa√ß√µes B√°sicas -->
                <div class="form-section">
                    <div class="section-title">
                        <span class="section-icon">üë§</span>
                        <h4>Informa√ß√µes B√°sicas</h4>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="novoLogin">
                                <span class="label-icon">üîë</span>
                                Nome de Usu√°rio
                                <span class="required-mark">*</span>
                            </label>
                            <input type="text" id="novoLogin" name="login" required
                                   placeholder="Digite o nome de usu√°rio">
                        </div>
                        
                        <div class="form-group">
                            <label for="novoNomeCompleto">
                                <span class="label-icon">üìù</span>
                                Nome Completo
                                <span class="required-mark">*</span>
                            </label>
                            <input type="text" id="novoNomeCompleto" name="nomeCompleto" required
                                   placeholder="Digite o nome completo">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="novaSenhaUsuario">
                            <span class="label-icon">üîí</span>
                            Senha do Usu√°rio
                            <span class="required-mark">*</span>
                        </label>
                        <input type="password" id="novaSenhaUsuario" name="senha" required
                               placeholder="Digite uma senha segura">
                        <div id="forcaSenhaRegistro" class="password-strength"></div>
                        <small class="form-help">üí° Use letras, n√∫meros e s√≠mbolos para maior seguran√ßa</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="tipoUsuarioNovo">
                            <span class="label-icon">üë•</span>
                            Tipo de Usu√°rio
                            <span class="required-mark">*</span>
                        </label>
                        <select id="tipoUsuarioNovo" name="tipo" required class="select-styled">
                            <option value="">Selecione o tipo de usu√°rio...</option>
                            <option value="Profissional">üë®‚Äç‚öïÔ∏è Profissional da Sa√∫de</option>
                            <option value="Administrador">üîß Administrador</option>
                        </select>
                    </div>
                </div>
                
                <!-- Registro Profissional -->
                <div class="form-section" id="registroProfissionalSection">
                    <div class="section-title">
                        <span class="section-icon">üè•</span>
                        <h4>Registro Profissional</h4>
                    </div>
                    
                    <div class="form-group" id="tipoRegistroGroup">
                        <label for="tipoRegistroNovo">
                            <span class="label-icon">üìã</span>
                            Tipo de Registro
                            <span class="required-mark">*</span>
                        </label>
                        <select id="tipoRegistroNovo" name="tipoRegistro" class="select-styled">
                            <option value="">Selecione o tipo de registro...</option>
                        </select>
                    </div>
                    
                    <div class="form-grid registro-grid">
                        <div class="form-group" id="numeroRegistroGroup">
                            <label for="numeroRegistroNovo">
                                <span class="label-icon">üî¢</span>
                                N√∫mero do Registro
                                <span class="required-mark">*</span>
                            </label>
                            <input type="text" id="numeroRegistroNovo" name="numeroRegistro"
                                   placeholder="Ex: 123456">
                        </div>
                        
                        <div class="form-group" id="estadoRegistroGroup">
                            <label for="estadoRegistroNovo">
                                <span class="label-icon">üìç</span>
                                Estado
                                <span class="required-mark">*</span>
                            </label>
                            <select id="estadoRegistroNovo" name="estadoRegistro" class="select-styled">
                                <option value="">Selecione...</option>
                                <option value="AC">üå≥ Acre</option>
                                <option value="AL">üèñÔ∏è Alagoas</option>
                                <option value="AP">üåø Amap√°</option>
                                <option value="AM">üå≤ Amazonas</option>
                                <option value="BA">üèùÔ∏è Bahia</option>
                                <option value="CE">‚õµ Cear√°</option>
                                <option value="DF">üèõÔ∏è Distrito Federal</option>
                                <option value="ES">‚õ∞Ô∏è Esp√≠rito Santo</option>
                                <option value="GO">üåæ Goi√°s</option>
                                <option value="MA">üå∫ Maranh√£o</option>
                                <option value="MT">üåΩ Mato Grosso</option>
                                <option value="MS">üêÜ Mato Grosso do Sul</option>
                                <option value="MG">‚õ∞Ô∏è Minas Gerais</option>
                                <option value="PA">üåø Par√°</option>
                                <option value="PB">üèñÔ∏è Para√≠ba</option>
                                <option value="PR">üå≤ Paran√°</option>
                                <option value="PE">ü¶Ä Pernambuco</option>
                                <option value="PI">üåµ Piau√≠</option>
                                <option value="RJ">üèñÔ∏è Rio de Janeiro</option>
                                <option value="RN">üèñÔ∏è Rio Grande do Norte</option>
                                <option value="RS">üç∑ Rio Grande do Sul</option>
                                <option value="RO">üå≥ Rond√¥nia</option>
                                <option value="RR">üåø Roraima</option>
                                <option value="SC">üèùÔ∏è Santa Catarina</option>
                                <option value="SP">üè¢ S√£o Paulo</option>
                                <option value="SE">ü¶ê Sergipe</option>
                                <option value="TO">üåÖ Tocantins</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary btn-save">
                        <span class="btn-icon">‚ú®</span>
                        Registrar Usu√°rio
                    </button>
                    <button type="button" class="btn btn-secondary btn-cancel" id="cancelarRegistro">
                        <span class="btn-icon">‚ùå</span>
                        Cancelar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Excluir Paciente -->
    <div id="excluirPacienteModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üóëÔ∏è Excluir Paciente</h3>
                <button type="button" class="modal-close" id="fecharExcluirModal">&times;</button>
            </div>
            
            <div class="warning-message">
                <p><strong>‚ö†Ô∏è ATEN√á√ÉO: Esta a√ß√£o √© irrevers√≠vel!</strong></p>
                <p>Voc√™ est√° prestes a excluir permanentemente este paciente e todos os seus atendimentos.</p>
                <p><strong>Paciente:</strong> <span id="pacienteNomeExclusao">-</span></p>
            </div>
            
            <form id="excluirPacienteForm">
                <div class="form-group">
                    <label for="senhaExclusao">Digite SUA senha para confirmar *</label>
                    <input type="password" id="senhaExclusao" name="senha" required 
                           placeholder="Digite sua senha atual">
                    <small class="form-help">
                        <strong>Usu√°rio logado:</strong> <span id="usuarioLogadoExclusao">-</span>
                    </small>
                </div>
                
                <div class="form-group">
                    <label for="confirmarExclusao">Digite "EXCLUIR" para confirmar *</label>
                    <input type="text" id="confirmarExclusao" name="confirmacao" required 
                           placeholder="Digite exatamente: EXCLUIR">
                </div>
                
                <div class="modal-actions">
                    <button type="submit" class="btn btn-danger">üóëÔ∏è Confirmar Exclus√£o</button>
                    <button type="button" class="btn btn-secondary" id="cancelarExclusao">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Agendamento -->
    <div id="novoAgendamentoModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìÖ Novo Agendamento</h3>
                <button class="close-modal" onclick="app.hideNovoAgendamentoModal()">&times;</button>
            </div>
            <form id="agendamentoForm" class="form-container">
                <div class="form-group">
                    <label for="agendamentoData">üìÖ Data:</label>
                    <input type="date" id="agendamentoData" name="data" required readonly>
                </div>

                <div class="form-group">
                    <label for="agendamentoPaciente">üë§ Paciente:</label>
                    <select id="agendamentoPaciente" name="pacienteId" required>
                        <option value="">Selecione um paciente...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="agendamentoHorario">üïí Hor√°rio:</label>
                    <input type="time" id="agendamentoHorario" name="horario" required>
                </div>

                <div class="form-group">
                    <label for="agendamentoTipo">ü©∫ Tipo de Atendimento:</label>
                    <input type="text" id="agendamentoTipo" name="tipo" placeholder="Ex: Consulta, Retorno, Procedimento..." required>
                </div>

                <div class="form-group">
                    <label for="agendamentoObservacoes">üìù Observa√ß√µes:</label>
                    <textarea id="agendamentoObservacoes" name="observacoes" rows="3" placeholder="Observa√ß√µes sobre o agendamento..."></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" onclick="app.hideNovoAgendamentoModal()" class="btn btn-secondary">‚ùå Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-text">üìÖ Agendar</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Mensagens de Feedback -->
    <div id="messageContainer" class="message-container"></div>

    <script src="script.js"></script>
</body>
</html>